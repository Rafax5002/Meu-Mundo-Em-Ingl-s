<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">

<head>
    <meta charset="UTF-8">
    <title> Meu Mundo em Inglês | Login </title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="imgs/" type="image/x-icon">
    <!-- Fontawesome CDN Link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>

    <style>
        /* Botão */
        .button input[type="submit"] {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background-color: var(--primary-color);
            color: var(--white-color);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .button input[type="submit"]:hover {
            background-color: var(--button-hover-color);
        }

        /* Caixa de entrada */
        .input-box input {
            width: calc(100% - 40px);
            /* Ajuste para o ícone não sobrepor o texto */
            padding: 10px;
            margin-top: 5px;
            border: 1px solid var(--input-border-color);
            border-radius: 5px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-box input:focus {
            border-color: var(--input-focus-color);
        }

        /* Texto */
        .text a,
        .text label {
            color: var(--primary-color);
            text-decoration: none;
        }

        .text a:hover,
        .text label:hover {
            color: var(--white-color);
            /* Torna o texto branco ao passar o mouse */
        }

        /* Fundo das páginas */
        body {
            font-family: "Poppins", sans-serif;
            background-color: var(--light-gray-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            max-width: 900px;
            margin: auto;
            background-color: var(--white-color);
            border: 1px solid var(--input-border-color);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        /* Ajustes adicionais */
        .cover img {
            max-width: 100%;
            height: auto;
        }

        .input-box i {
            width: 40px;
            text-align: center;
            color: var(--dark-gray-color);
        }

        /* Centralizando elementos */
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            max-width: 900px;
            margin: auto;
            background-color: var(--white-color);
            border: 1px solid var(--input-border-color);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .cover,
        .forms {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
        }

        .cover .front,
        .cover .back {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .forms .form-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            padding: 20px;
        }

        .input-boxes {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .input-box {
            width: 100%;
            margin: 10px 0;
            position: relative;
            /* Necessário para ícones absolutos */
        }

        .input-box input {
            width: 100%;
            padding: 10px;
            padding-left: 40px;
            /* Espaço para o ícone */
            margin-top: 5px;
            border: 1px solid var(--input-border-color);
            border-radius: 5px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-box input:focus {
            border-color: var(--input-focus-color);
        }

        .input-box i {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--dark-gray-color);
        }

        /* Botão */
        .button input[type="submit"] {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background-color: var(--primary-color);
            color: var(--white-color);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .button input[type="submit"]:hover {
            background-color: var(--button-hover-color);
        }

        /* Texto */
        .text a,
        .text label {
            color: var(--primary-color);
            text-decoration: none;
        }

        .text a:hover,
        .text label:hover {
            color: var(--white-color);
            /* Torna o texto branco ao passar o mouse */
        }

        /* Fundo das páginas */
        body {
            font-family: "Poppins", sans-serif;
            background-color: var(--light-gray-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* Ajustes adicionais */
        .cover img {
            max-width: 100%;
            height: auto;
        }

        header {
            background: #0044cc;
            color: #fff;
            padding: 1rem;
        }

        .nav-logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
        }

        .nav-link {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
        }

        /* Botão */
        .button input[type="submit"] {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background-color: var(--primary-color);
            color: var(--white-color);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .button input[type="submit"]:hover {
            background-color: var(--button-hover-color);
        }

        /* Caixa de entrada */
        .input-box input {
            width: calc(100% - 40px);
            /* Ajuste para o ícone não sobrepor o texto */
            padding: 10px;
            margin-top: 5px;
            border: 1px solid var(--input-border-color);
            border-radius: 5px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-box input:focus {
            border-color: var(--input-focus-color);
        }

        /* Texto */
        .text a,
        .text label {
            color: var(--primary-color);
            text-decoration: none;
        }

        .text a:hover,
        .text label:hover {
            color: var(--secondary-color);
        }

        /* Fundo das páginas */
        body {
            font-family: "Poppins", sans-serif;
            background-color: var(--light-gray-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            max-width: 900px;
            margin: auto;
            background-color: var(--white-color);
            border: 1px solid var(--input-border-color);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        /* Ajustes adicionais */
        .cover img {
            max-width: 100%;
            height: auto;
        }

        .input-box i {
            width: 40px;
            text-align: center;
            color: var(--dark-gray-color);
        }

        /* Centralizando elementos */
        .container {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            max-width: 900px;
            margin: auto;
            background-color: var(--white-color);
            border: 1px solid var(--input-border-color);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        .cover,
        .forms {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
        }

        .cover .front,
        .cover .back {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .forms .form-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
            padding: 20px;
        }

        .input-boxes {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100%;
        }

        .input-box {
            width: 100%;
            margin: 10px 0;
            position: relative;
            /* Necessário para ícones absolutos */
        }

        .input-box input {
            width: 100%;
            padding: 10px;
            padding-left: 40px;
            /* Espaço para o ícone */
            margin-top: 5px;
            border: 1px solid var(--input-border-color);
            border-radius: 5px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .input-box input:focus {
            border-color: var(--input-focus-color);
        }

        .input-box i {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--dark-gray-color);
        }

        /* Botão */
        .button input[type="submit"] {
            width: 100%;
            padding: 10px;
            margin-top: 10px;
            background-color: var(--primary-color);
            color: var(--white-color);
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .button input[type="submit"]:hover {
            background-color: var(--button-hover-color);
        }

        /* Texto */
        .text a,
        .text label {
            color: var(--primary-color);
            text-decoration: none;
        }

        .text a:hover,
        .text label:hover {
            color: var(--secondary-color);
        }

        /* Fundo das páginas */
        body {
            font-family: "Poppins", sans-serif;
            background-color: var(--light-gray-color);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        /* Ajustes adicionais */
        .cover img {
            max-width: 100%;
            height: auto;
        }

        header {
            background: #0044cc;
            color: #fff;
            padding: 1rem;
        }

        .nav-logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: #fff;
        }

        .nav-link {
            color: #fff;
            text-decoration: none;
            font-weight: 500;
        }

        /* Estilo para nav-menu */
        .nav-menu .nav-link {
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.3s ease, background-color 0.3s ease;
            position: relative;
            z-index: 1;
            /* Garante que o texto fique acima do fundo */
        }

        .nav-menu .nav-link:hover {
            color: var(--white-color);
            /* Torna o texto branco ao passar o mouse */
            background-color: var(--secondary-color);
            /* Fundo vermelho */
            z-index: 2;
            /* Garante que o fundo vermelho fique abaixo do texto */
        }

        /* Botão de Gerar Senha */
        #botao-gerar-senha {
            background-color: var(--primary-color);
            /* Azul primário */
            color: var(--white-color);
            /* Texto branco */
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #botao-gerar-senha:hover {
            background-color: var(--button-hover-color);
            /* Cor ao passar o mouse */
        }

        /* Estilo para os botões */
        .button input[type="submit"],
        .button input[type="button"],
        .button button {
            background-color: var(--primary-color);
            /* Azul primário */
            color: var(--white-color);
            /* Texto branco */
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .button input[type="submit"]:hover,
        .button input[type="button"]:hover,
        .button button:hover {
            background-color: var(--button-hover-color);
            /* Cor ao passar o mouse */
        }

        /* Estilo para o botão de Mostrar/Ocultar Senhas */
        .toggle-password-button {
            background-color: var(--primary-color);
            /* Azul primário */
            color: var(--white-color);
            /* Texto branco */
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-top: 10px;
            /* Espaçamento superior para separar do botão Enviar */
        }

        .toggle-password-button:hover {
            background-color: var(--button-hover-color);
            /* Cor ao passar o mouse */
        }
    </style>

    <body>
        <header>
            <nav class="navbar"> <a class="nav-logo">Meu Mundo em Inglês</a>
                <ul class="nav-menu">
                    <li><a href="index.html" class="nav-link">Início</a></li>
                </ul>
            </nav>
        </header>
        <div class="container"> <input type="checkbox" id="flip">
            <div class="cover">
                <div class="front"> <img src="imgs/caderno-login.jpg" alt=""> </div>
                <div class="back"> <img class="backImg" src="imgs/caderno-login.jpg" alt=""> </div>
            </div>
            <div class="forms">
                <div class="form-content login-form">
                    <div class="text"> <span class="text-1"> PRATIQUE SEU INGLÊS! <span>FAÇA LOGIN E VAMOS
                                JUNTO!<br></span></span> </div>
                    <form id="login-form" action="#">
                        <div class="input-boxes">
                            <div class="input-box"> <i class="fas fa-envelope"></i> <input id="login-email"
                                    placeholder="Digite seu email" required> </div>
                            <div class="input-box"> <i class="fas fa-lock"></i> <input type="password" id="login-senha"
                                    placeholder="Digite sua senha" required> </div>
                            <div class="button input-box"> <input type="submit" value="Enviar"> </div>
                            <div class="button input-box"> <button type="button"
                                    onclick="alternarVisibilidadeSenhas()">Mostrar/Ocultar Senhas</button> </div>
                            <div class="text sign-up-text">Não tem uma conta? <label for="flip">Cadastre-se
                                    agora</label></div>
                        </div>
                    </form>
                </div>
                <div class="form-content signup-form">
                    <div class="text"> <span class="text-1"><br> NÃO PERCA TEMPO! <span>CADASTRE-SE E ALCANCE A
                                FLUÊNCIA!<br></span></span> </div>
                    <form id="cadastro-form" action="#">
                        <div class="input-boxes">
                            <div class="input-box"> <i class="fas fa-user"></i> <input 
                                    placeholder="Digite seu nome" required> </div>
                            <div class="input-box"> <i class="fas fa-envelope"></i> <input 
                                    id="cadastro-email" placeholder="Digite seu email" required> </div>
                            <div class="input-box"> <i class="fas fa-lock"></i> <input type="password"
                                    id="cadastro-senha" placeholder="Digite sua senha" required>
                                <div id="validacaoSenha"></div><br> <button type="button" id="botao-gerar-senha">Gerar
                                    Senha</button>
                            </div>
                            <div class="input-box"> <i class="fas fa-lock"></i> <input id="confirmacao_senha_input"
                                    type="password" placeholder="Confirmar Senha" onkeyup="confirmacaoSenha()" />
                                <div id="validacaoConfirmacao"></div><br>
                            </div>
                            <div class="button input-box"> <input type="submit" value="Enviar"> </div>
                            <div class="button input-box"> <button type="button"
                                    onclick="alternarVisibilidadeSenhas()">Mostrar/Ocultar Senhas</button> </div>
                            <div class="text sign-up-text">Já tem uma conta? <label for="flip">Entrar agora</label>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
    </body>



</html>
<script>
    // Função para carregar usuários e senhas do localStorage
    function carregarDados() {
        const dadosUsuarios = localStorage.getItem('users');
        const dadosSenhas = localStorage.getItem('passwords');
        return {
            users: dadosUsuarios ? JSON.parse(dadosUsuarios) : [],
            passwords: dadosSenhas ? JSON.parse(dadosSenhas) : []
        };
    }

    // Função para salvar usuários e senhas no localStorage
    function salvarDados(users, passwords) {
        localStorage.setItem('users', JSON.stringify(users));
        localStorage.setItem('passwords', JSON.stringify(passwords));
    }

    // Carregar dados ao iniciar
    let { users, passwords } = carregarDados();
    console.log("Usuários carregados:", users);
    console.log("Senhas carregadas:", passwords);

    function validarEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
    }

    function validarSenha(senha) {
        const re = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;
        return re.test(senha);
    }

    function usuarioExiste(email) {
        return users.includes(email);
    }

    function cadastrar(email, senha, confirmacaoSenha) {
        if (!validarEmail(email)) {
            alert("Email inválido!");
            return;
        }
        if (!validarSenha(senha)) {
            alert("A senha deve ter pelo menos 8 caracteres, incluindo letras maiúsculas, minúsculas, números e caracteres especiais.");
            return;
        }
        if (senha !== confirmacaoSenha) {
            alert("As senhas não coincidem!");
            return;
        }
        if (usuarioExiste(email)) {
            alert("Usuário já cadastrado!");
            return;
        }
        users.push(email);
        passwords.push(senha);
        salvarDados(users, passwords);
        console.log("Usuário cadastrado:", email);
        alert("Cadastro realizado com sucesso!");
    }

    // Função para realizar login
    function login(email, senha) {
        if (!validarEmail(email)) {
            alert("Email inválido!");
            return;
        }
        const userIndex = users.indexOf(email);
        console.log("Tentativa de login:", email);
        console.log("Índice do usuário:", userIndex);

        if (userIndex === -1) {
            alert("Usuário não encontrado!");
        } else if (passwords[userIndex] !== senha) {
            alert("Senha incorreta!");
        } else {
            alert("Login bem-sucedido!");
            window.location.href = 'home.html'; // Redireciona para a página inicial pós-login
        }
    }

    // Array de caracteres para gerar senhas aleatórias
    const caracteres = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+';

    // Função para gerar senha aleatória
    function gerarSenha(tamanho = 12) {
        let senha = '';
        for (let i = 0; i < tamanho; i++) {
            const randomIndex = Math.floor(Math.random() * caracteres.length);
            senha += caracteres[randomIndex];
        }
        return senha;
    }

    // Função para configurar o botão de gerar senha
    function configurarBotaoGerarSenha() {
        const botaoGerarSenha = document.getElementById('botao-gerar-senha');
        const inputSenha = document.getElementById('cadastro-senha');
        const inputConfirmacaoSenha = document.getElementById('confirmacao_senha_input');
        botaoGerarSenha.addEventListener('click', function () {
            const novaSenha = gerarSenha();
            inputSenha.value = novaSenha;
            inputConfirmacaoSenha.value = novaSenha;
        });
    }

    // Função para confirmar senha
    function confirmacaoSenha() {
        const senha = document.getElementById('cadastro-senha').value;
        const confirmacao = document.getElementById('confirmacao_senha_input').value;
        const validacaoConfirmacao = document.getElementById('validacaoConfirmacao');

        if (senha !== confirmacao) {
            validacaoConfirmacao.textContent = "As senhas não coincidem";
            validacaoConfirmacao.style.color = "red";
        } else {
            validacaoConfirmacao.textContent = "As senhas coincidem";
            validacaoConfirmacao.style.color = "green";
        }
    }

    // Função para alternar a visibilidade de todas as senhas
    function alternarVisibilidadeSenhas() {
        const senhas = document.querySelectorAll('input[type="password"], input[type="text"]');
        senhas.forEach(senha => {
            if (senha.type === 'password') {
                senha.type = 'text';
            } else {
                senha.type = 'password';
            }
        });
    }

    // Configura o botão de gerar senha e alternar visibilidade após o carregamento da página
    document.addEventListener('DOMContentLoaded', () => {
        configurarBotaoGerarSenha();
    });

    // Funções para manipulação do formulário de login e cadastro
    document.getElementById('login-form').addEventListener('submit', function(event) {
        event.preventDefault();
        const email = document.getElementById('login-email').value;
        const senha = document.getElementById('login-senha').value;
        login(email, senha);
    });

    document.getElementById('cadastro-form').addEventListener('submit', function(event) {
        event.preventDefault();
        const email = document.getElementById('cadastro-email').value;
        const senha = document.getElementById('cadastro-senha').value;
        const confirmacaoSenha = document.getElementById('confirmacao_senha_input').value;
        cadastrar(email, senha, confirmacaoSenha);
    });
</script>
